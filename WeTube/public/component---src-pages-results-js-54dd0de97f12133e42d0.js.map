{"version":3,"file":"component---src-pages-results-js-54dd0de97f12133e42d0.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/Data.js","webpack://gatsby-starter-default/./src/components/VideoChannelImage.js","webpack://gatsby-starter-default/./src/components/VideoImage.js","webpack://gatsby-starter-default/./src/components/VideoPageURL.js","webpack://gatsby-starter-default/./src/pages/results.js"],"sourcesContent":["export default function Data(rawData) {\n  let data = {}\n  for (let k in rawData) {\n    if (rawData[k].data.videosData) {\n      data = { ...rawData[k].data }\n    }\n  }\n\n  // Shuffle algorithm sourced from https://stackoverflow.com/a/3718452/19822058\n  for (let i = 0; i < data?.videosData?.nodes.length - 1; i++) {\n    let j = i + Math.floor(Math.random() * (data.videosData.nodes.length - i))\n\n    let tempDataArray = data.videosData.nodes[j]\n    data.videosData.nodes[j] = data.videosData?.nodes[i]\n    data.videosData.nodes[i] = tempDataArray\n  }\n\n  return data\n}\n","import { getImage } from \"gatsby-plugin-image\"\n\nexport default function VideoChannelImage(data, channelName) {\n  const array = Object.values(data.channelImages.nodes)\n\n  const name = channelName.substring(0, channelName.indexOf(\".\"))\n\n  let object = array.filter(obj => {\n    if (obj.name === name) return obj.childImageSharp\n    return null\n  })\n  return getImage(object[0]?.childImageSharp)\n}\n","import { getImage } from \"gatsby-plugin-image\"\n\nexport default function VideoImage(channelName, data) {\n  const array = Object.values(data.videoImages.nodes)\n  const name = channelName.substring(0, channelName.indexOf(\".\"))\n\n  let object = array.filter(obj => {\n    const src = obj.childImageSharp.gatsbyImageData.images.fallback.src\n\n    const lastSlash = src.lastIndexOf(\"/\")\n    const imageName = src.substring(lastSlash + 1, src.indexOf(\".\"))\n\n    if (imageName === name) return obj.childImageSharp\n\n    return null\n  })\n  return getImage(object[0]?.childImageSharp)\n}\n","export default function VideoPageURL(videoThumbnail) {\n  return videoThumbnail.substring(0, videoThumbnail.indexOf(\".\"))\n}\n","import * as React from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"gatsby\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\n\nimport Data from \"../components/Data\"\nimport videoImg from \"../components/VideoImage\"\nimport VideoChannelImage from \"../components/VideoChannelImage\"\nimport VideoPageURL from \"../components/VideoPageURL\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\n\nconst SectionStyles = styled.section`\n  max-width: 900px;\n  margin: 0 auto;\n`\n\nconst VideosGridStyles = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(227px, 1fr));\n  gap: 1.4rem;\n  justify-items: center;\n`\n\nconst VideosHeaderStyles = styled.div`\n  display: grid;\n  grid-template-columns: 1fr auto;\n  align-items: center;\n  margin-bottom: 1rem;\n  h3 {\n    font-weight: 600;\n    font-size: 14px;\n  }\n`\n\nconst SearchResultPage = ({ pageResources, location }) => {\n  const rawData = pageResources?.staticQueryResults\n  const state = location.state?.videos\n\n  const data = Data(rawData)\n\n  return (\n    <Layout>\n      <SectionStyles>\n        <h1 className=\"text-3xl mb-6\">Search Result:</h1>\n        <VideosGridStyles>\n          <>\n            {state?.map(obj => (\n              <div key={`${obj.id}`}>\n                <VideosHeaderStyles>\n                  <h3>{obj.channelName}</h3>\n                  <GatsbyImage\n                    style={{\n                      maxWidth: \"40px\",\n                      maxHeight: \"40px\",\n                      borderRadius: \"50%\",\n                    }}\n                    image={VideoChannelImage(data, obj.channelThumbnail)}\n                    alt={`${obj.channelName} channel image`}\n                  />\n                </VideosHeaderStyles>\n\n                <Link to={`/video/${VideoPageURL(obj.videoThumbnail)}`}>\n                  <GatsbyImage\n                    style={{\n                      marginBottom: \"2rem\",\n                    }}\n                    image={videoImg(obj.videoThumbnail, data)}\n                    alt={`${obj.channelName} video image`}\n                  />\n                </Link>\n              </div>\n            ))}\n          </>\n        </VideosGridStyles>\n      </SectionStyles>\n    </Layout>\n  )\n}\n\n/**\n * Head export to define metadata for the page\n *\n * See: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-head/\n */\nexport const Head = () => <Seo title=\"Search Result\" />\n\nexport default SearchResultPage\n"],"names":["Data","rawData","data","k","videosData","i","nodes","length","j","Math","floor","random","tempDataArray","VideoChannelImage","channelName","array","Object","values","channelImages","name","substring","indexOf","object","filter","obj","childImageSharp","getImage","VideoImage","videoImages","src","gatsbyImageData","images","fallback","lastSlash","lastIndexOf","VideoPageURL","videoThumbnail","SectionStyles","styled","VideosGridStyles","VideosHeaderStyles","Head","title","pageResources","location","staticQueryResults","state","videos","className","map","key","id","G","style","maxWidth","maxHeight","borderRadius","image","channelThumbnail","alt","Link","to","marginBottom","videoImg"],"sourceRoot":""}