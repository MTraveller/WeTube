{"version":3,"file":"component---src-templates-video-page-js-514cbae901a3112ab1b1.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/Data.js","webpack://gatsby-starter-default/./src/components/VideoChannelImage.js","webpack://gatsby-starter-default/./src/components/VideoImage.js","webpack://gatsby-starter-default/./src/components/VideoPageURL.js","webpack://gatsby-starter-default/./src/templates/videoPage.js","webpack://gatsby-starter-default/./src/components/VideoObject.js"],"sourcesContent":["export default function Data(rawData) {\n  let data = {}\n  for (let k in rawData) {\n    if (rawData[k].data.videosData) {\n      data = { ...rawData[k].data }\n    }\n  }\n\n  // Shuffle algorithm sourced from https://stackoverflow.com/a/3718452/19822058\n  for (let i = 0; i < data?.videosData?.nodes.length - 1; i++) {\n    let j = i + Math.floor(Math.random() * (data.videosData.nodes.length - i))\n\n    let tempDataArray = data.videosData.nodes[j]\n    data.videosData.nodes[j] = data.videosData?.nodes[i]\n    data.videosData.nodes[i] = tempDataArray\n  }\n\n  return data\n}\n","import { getImage } from \"gatsby-plugin-image\"\n\nexport default function VideoChannelImage(data, channelName) {\n  const array = Object.values(data.channelImages.nodes)\n\n  const name = channelName.substring(0, channelName.indexOf(\".\"))\n\n  let object = array.filter(obj => {\n    if (obj.name === name) return obj.childImageSharp\n    return null\n  })\n  return getImage(object[0]?.childImageSharp)\n}\n","import { getImage } from \"gatsby-plugin-image\"\n\nexport default function VideoImage(channelName, data) {\n  const array = Object.values(data.videoImages.nodes)\n  const name = channelName.substring(0, channelName.indexOf(\".\"))\n\n  let object = array.filter(obj => {\n    const src = obj.childImageSharp.gatsbyImageData.images.fallback.src\n\n    const lastSlash = src.lastIndexOf(\"/\")\n    const imageName = src.substring(lastSlash + 1, src.indexOf(\".\"))\n\n    if (imageName === name) return obj.childImageSharp\n\n    return null\n  })\n  return getImage(object[0]?.childImageSharp)\n}\n","export default function VideoPageURL(videoThumbnail) {\n  return videoThumbnail.substring(0, videoThumbnail.indexOf(\".\"))\n}\n","// Getting\n\nimport * as React from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"gatsby\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\n\nimport Data from \"../components/Data\"\nimport VideoObject from \"../components/VideoObject\"\nimport videoImg from \"../components/VideoImage\"\nimport VideoChannelImage from \"../components/VideoChannelImage\"\nimport VideoPageURL from \"../components/VideoPageURL\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\n\nconst SectionStyles = styled.section`\n  max-width: 900px;\n  margin: 0 auto;\n  h1 {\n    text-transform: capitalize;\n  }\n  .video-details {\n    max-width: 100%;\n  }\n  p {\n    display: inline-block;\n  }\n  div span {\n    float: right;\n  }\n`\n\nconst PageGridStyles = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  gap: 3rem;\n\n  iframe {\n    margin-bottom: 1rem;\n  }\n\n  .aside-div h2 {\n    font-size: 20px;\n  }\n\n  aside {\n    width: 100%;\n    max-height: 360px;\n    overflow: scroll;\n    justify-self: end;\n  }\n\n  @media (max-width: 800px) {\n    grid-template-columns: 1fr;\n    article {\n      width: 100%;\n    }\n    .aside-div {\n      max-width: 360px;\n      justify-self: center;\n    }\n  }\n`\n\nconst RelatedVideosStyles = styled.div`\n  display: grid;\n  grid-template-columns: 1fr auto;\n  align-items: center;\n  margin-bottom: 1rem;\n  h3 {\n    font-weight: 600;\n    font-size: 14px;\n  }\n`\n\nconst VideoPage = ({ pageResources, location }) => {\n  const rawData = pageResources?.staticQueryResults\n  const video = location.pathname.replace(\"/video/\", \"\")\n\n  const data = Data(rawData)\n  console.log(data)\n\n  let videoObject = VideoObject(rawData, video)\n  console.log(videoObject)\n\n  const videoName = videoObject[0]?.videoThumbnail\n    .substring(0, videoObject[0]?.videoThumbnail.indexOf(\".\"))\n    .replaceAll(\"-\", \" \")\n\n  const videoURL = videoObject[0]?.videoId.replace(\"watch?v=\", \"embed/\").trim()\n\n  function doExclude(videoThumbnail) {\n    const currentVideoPage = videoName?.replaceAll(\" \", \"-\")\n    const videoURL = videoThumbnail?.substring(0, videoThumbnail?.indexOf(\".\"))\n\n    return videoURL === currentVideoPage\n  }\n\n  return (\n    <>\n      <Seo title={videoName} />\n      <Layout>\n        <SectionStyles>\n          <h1 className=\"text-3xl mb-6\">{videoName}</h1>\n          <PageGridStyles>\n            <article className=\"video-details\">\n              <iframe\n                width=\"100%\"\n                height=\"315\"\n                src={videoURL}\n                title=\"YouTube video player\"\n                frameBorder=\"0\"\n                allowFullScreen\n              ></iframe>\n              <p>\n                <em>Comments closed by Author</em>\n              </p>\n              <span>\n                <em>{videoObject[0]?.views} Views</em>\n              </span>\n            </article>\n            <div className=\"aside-div\">\n              <h2>\n                <strong>Related Videos</strong>\n              </h2>\n              <aside>\n                <>\n                  {data?.videosData?.nodes.map(obj => (\n                    <div key={`${obj?.id}`}>\n                      {!doExclude(obj?.videoThumbnail) ? (\n                        <RelatedVideosStyles>\n                          <h3>{obj?.channelName}</h3>\n                          <GatsbyImage\n                            style={{\n                              maxWidth: \"40px\",\n                              maxHeight: \"40px\",\n                              borderRadius: \"50%\",\n                            }}\n                            image={VideoChannelImage(\n                              data,\n                              obj?.channelThumbnail\n                            )}\n                            alt={`${obj?.channelName} channel image`}\n                          />\n                        </RelatedVideosStyles>\n                      ) : (\n                        \"\"\n                      )}\n                      {!doExclude(obj?.videoThumbnail) ? (\n                        <Link\n                          to={`/video/${VideoPageURL(obj?.videoThumbnail)}`}\n                        >\n                          <GatsbyImage\n                            style={{\n                              marginBottom: \"2rem\",\n                            }}\n                            image={videoImg(obj?.videoThumbnail, data)}\n                            alt={`${obj?.channelName} video image`}\n                          />\n                        </Link>\n                      ) : (\n                        \"\"\n                      )}\n                    </div>\n                  ))}\n                </>\n              </aside>\n            </div>\n          </PageGridStyles>\n        </SectionStyles>\n      </Layout>\n    </>\n  )\n}\n\n/**\n * Head export to define metadata for the page\n *\n * See: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-head/\n */\n\n// Had to move Head to return inside VideoPage function for dynamic title\n\nexport default VideoPage\n","export default function VideoObject(rawData, video) {\n  let videoObject = []\n  for (let k in rawData) {\n    if (rawData[k].data.videosData) {\n      const object = rawData[k].data.videosData.nodes.filter(obj => {\n        return (\n          // prettier-ignore\n          obj.videoThumbnail\n              .substring(0, obj.videoThumbnail\n              .indexOf(\".\")) === video\n        )\n      })\n      videoObject = object\n    }\n  }\n\n  return videoObject\n}\n"],"names":["Data","rawData","data","k","videosData","i","nodes","length","j","Math","floor","random","tempDataArray","VideoChannelImage","channelName","array","Object","values","channelImages","name","substring","indexOf","object","filter","obj","childImageSharp","getImage","VideoImage","videoImages","src","gatsbyImageData","images","fallback","lastSlash","lastIndexOf","VideoPageURL","videoThumbnail","SectionStyles","styled","PageGridStyles","RelatedVideosStyles","pageResources","location","staticQueryResults","video","pathname","replace","console","log","videoObject","VideoObject","videoName","replaceAll","videoURL","videoId","trim","doExclude","currentVideoPage","title","className","width","height","frameBorder","allowFullScreen","views","map","key","id","G","style","maxWidth","maxHeight","borderRadius","image","channelThumbnail","alt","Link","to","marginBottom","videoImg"],"sourceRoot":""}